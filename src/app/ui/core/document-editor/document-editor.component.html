<!-- Copyright 2020 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a 3 Clause BSD-style license. See LICENSE.md in the project root for license information. -->

<div  class="document-status">
  <div class="message-div">
    <p>{{ statusMessage }}</p>
  </div>
  <div class="saved-div">
    <p>{{ docCurrentlyEdited() ? "Saving..." : timeLastSaved ? "Saved " + (timeLastSaved | shortdate) : '' }}</p>
  </div>
  <div *ngIf="key" class="presence-div">
    <span *ngFor="let actor of actors" class="label label-default {{getUserColorClass(actor)}}">
      <mat-icon *ngIf="!actor.editing" inline="true">account_box</mat-icon>
      <mat-icon *ngIf="actor.editing"  inline="true">keyboard</mat-icon>
      {{actor.name || "Anonymous"}}
    </span>
  </div>
</div>

<mat-drawer-container>

  <mat-drawer class="editor" position="start" mode="side" opened="true" disableClose="true">
    <ngx-monaco-editor
      id="markdown-editor"
      [options]="editorOptions" 
      [(ngModel)]="markdown"
      (onInit)="onInitEditor($event)">
    </ngx-monaco-editor>
  </mat-drawer>

  <mat-drawer #imageDrawer class="images" position="end" disableClose="false">
    <p>image drawer</p>
  </mat-drawer>

  <mat-drawer-content>
    <div class="markdown" [innerHtml]="rendered"></div>
  </mat-drawer-content>

</mat-drawer-container>
